<!DOCTYPE html>
<html>
    <head>
        <title>Compose Symfony &mdash; DockerWest &mdash; Easy docker images</title>
        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <meta name="robots" content="noindex, follow">
                <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <link rel="apple-touch-startup-image" href="/images/jackson/2048x2048.png">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="shortcut icon" sizes="76x76" href="/images/jackson/76x76.png">
        <link rel="shortcut icon" sizes="120x120" href="/images/jackson/120x120.png">
        <link rel="shortcut icon" sizes="128x128" href="/images/jackson/128x128.png">
        <link rel="shortcut icon" sizes="152x152" href="/images/jackson/152x152.png">
        <link rel="shortcut icon" sizes="196x196" href="/images/jackson/196x196.png">
        <link rel="shortcut icon" sizes="512x512" href="/images/jackson/512x512.png">
        <link rel="shortcut icon" sizes="1024x1024" href="/images/jackson/1024x1024.png">
        <link rel="shortcut icon" sizes="2048x2048" href="/images/jackson/2048x2048.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/jackson/76x76.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/jackson/120x120.png">
        <link rel="apple-touch-icon" sizes="128x128" href="/images/jackson/128x128.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/jackson/152x152.png">
        <link rel="apple-touch-icon" sizes="196x196" href="/images/jackson/196x196.png">
        <link rel="apple-touch-icon" sizes="512x512" href="/images/jackson/512x512.png">
        <link rel="apple-touch-icon" sizes="1024x1024" href="/images/jackson/1024x1024.png">
        <link rel="apple-touch-icon" sizes="2048x2048" href="/images/jackson/2048x2048.png">

        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="DockerWest activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
                                    </head>
    <body>
        <header>
            <nav class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">DockerWest</a>
                    </div>
                    <div id="navbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <!--<li><a href="/blog">Posts Archive</a></li>
                            <li><a href="/blog/categories">Categories</a></li>
                            <li><a href="/blog/tags">Tags</a></li>-->
                            <li><a href="/base-images">Base images</a></li>
                            <li><a href="/project-specific-images">Project specific images</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Compose environments <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="/compose-environments">Overview</a></li>
                                    <li class="dropdown-header">Products</li>
                                    <li><a href="/compose-pimcore">Pimcore</a></li>
                                    <li><a href="/compose-magento2">Magento</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li class="dropdown-header">Frameworks</li>
                                    <li><a href="/compose-symfony">Symfony</a></li>
                                    <li><a href="/compose-laravel">Laravel</a></li>
                                </ul>
                            </li>
                            <li><a href="/about">About us</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                    <h2>Compose Symfony</h2>
<p>&nbsp;</p>
<div class="row">
    <div class="col-md-6">
        <img src="/images/symfony.png" width="150px">
    </div>
    <div class="col-md-6 text-right">
        <dl>
            <dt>Project website:</dt>
            <dd><a href="https://www.symfony.com">symfony.com</a></dd>
            <dt>Github:</dt>
            <dd><a href="https://github.com/dockerwest/compose-symfony">https://github.com/dockerwest/compose-symfony</a> </dd>
        </dl>
    </div>
</div>

<div class="row">
    <div class="col-md-2">
        <img src="/images/php.png" width="50px" data-toggle="tooltip" data-placement="bottom" title="PHP">
    </div>
    <div class="col-md-2">
        <img src="/images/mysql.png" width="50px" data-toggle="tooltip" data-placement="bottom"
             title="Mysql">
    </div>
    <div class="col-md-2">
        <img src="/images/nginx.png" width="50px" data-toggle="tooltip" data-placement="bottom"
             title="Nginx">
    </div>
    <div class="col-md-2">
        <img src="/images/redis.png" width="50px" data-toggle="tooltip" data-placement="bottom"
             title="Redis">
    </div>
    <div class="col-md-2">
        <img src="/images/mailcatcher.png" height="25px" data-toggle="tooltip" data-placement="bottom"
             title="Mailcatcher">
    </div>
</div>
<div class="row">&nbsp;</div>

<div class="row">
    <div class="col-md-12">
        <h3>Getting started</h3>
        <p>Make sure you first followed the <a href="/compose-environments">global getting started steps</a>.</p>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h4>1. Clone the git repository next to your project folder.</h4>
        <pre>$ git clone git@github.com:dockerwest/compose-symfony.git</pre>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h4>2. Copy .env-sample to .env and update accordingly</h4>
        <p>Set the relative path to the folder where your project is located:</p>
        <pre>APPLICATION=../application</pre>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h4>3. Start the project-specific environment</h4>
        <pre>$ ./environment</pre>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h4>4. Start the docker environment</h4>
        <pre>$ run up</pre>
        <p class="help-block">The helper command <code>run</code> is an alias to <code>docker-compose</code>, specific
            for the current environment.</p>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <h4>5. Access your project in the browser</h4>
        <p>This can be done in one of the following ways:</p>
        <ul>
            <li>Use <a href="https://github.com/BlackIkeEagle/docker-developer-dns">Docker Developer DNS</a>
                <br>This way you can access the environment by browsing <code>application.docker</code> in your browser.
            </li>
            <li>Use <a href="https://github.com/jwilder/nginx-proxy">Nginx Proxy</a>
                <br>This way you can access the environment by browsing <code>application.docker</code> in your browser.
            </li>
            <li>Add <code>ports</code> section to the nginx config in the docker-composer.yml file:
                <pre>
nginx:
    ports:
        - "80:80"
            </pre>
                This way you can access the environment by browsing <code>localhost:80</code> in your browser.
            </li>
        </ul>
    </div>
</div>


<h3>What's in the box?</h3>
<p>
    The following technologies are out-of-the-box available in this environment.<br>
    Click on one of the names for more information.
</p>

<div class="panel-group" id="techs" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="techHeading1">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#techs" href="#tech1"
                   aria-expanded="true" aria-controls="tech1">
                    php-symfony
                </a>
                <span class="pull-right">
                    <span class="label label-default" data-toggle="tooltip" data-placement="top" title="Available version">5.6</span>
                    <span class="label label-default" data-toggle="tooltip" data-placement="top" title="Available version"></span>
                    <span class="label label-success" data-toggle="tooltip" data-placement="top"
                          title="Default version">7.1</span>
                    <span class="label label-default" data-toggle="tooltip" data-placement="top"
                          title="Available version">7.2</span>

                </span>
            </h4>
        </div>
        <div id="tech1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="techHeading1">
            <div class="panel-body">
                <p>
                    <a href="https://github.com/dockerwest/compose-symfony">php-symfony</a> image named <code>application</code>,
                    which mounts the <code>APPLICATION</code> path to the image and links to mysql, redis and
                    mailcatcher.
                </p>
                <p>You can access the php-cli using the <code>php</code> helper. (see below)</p>
                <p>
                    The following packages are installed: php-gd php-mysql php-mcrypt php-sqlite3
                    php-bz2 php-xml php-mbstring php-zip php-redis
                    php-imagick php-json php-bcmath php-intl
                </p>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="techHeading2">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#techs" href="#tech2"
                   aria-expanded="true" aria-controls="tech2">
                    nginx-symfony
                </a>
                <span class="pull-right">
                <span class="label label-success" data-toggle="tooltip" data-placement="top" title="Default version">2-stable</span>
                <span class="label label-default" data-toggle="tooltip" data-placement="top" title="Available version">2-mainline</span>
                <span class="label label-default" data-toggle="tooltip" data-placement="top" title="Available version">3-stable</span>
                <span class="label label-default" data-toggle="tooltip" data-placement="top" title="Available version">3-mainline</span>
                </span>
            </h4>
        </div>
        <div id="tech2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="techHeading2">
            <div class="panel-body">
                <p>
                    <a href="https://github.com/dockerwest/nginx-symfony">nginx-symfony</a> image named
                    <code>nginx</code>,
                    which mounts the <code>APPLICATION</code> path to the image and links to application.
                </p>
                <p>Please note that there is a different vhost between symfony 2 and symfony 3.</p>
                <p>
                    This nginx container is available at <code>application.docker</code> and <code>www.application.docker</code>
                    through
                <pre>- VIRTUAL_HOST=${BASEHOST:-application.docker},www.${BASEHOST:-application.docker}</pre>
                </p>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="techHeading3">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#techs" href="#tech3"
                   aria-expanded="true" aria-controls="tech3">
                    redis
                </a>
                <span class="pull-right">
                <span class="label label-success">alpine</span>
                </span>
            </h4>
        </div>
        <div id="tech3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="techHeading3">
            <div class="panel-body">
                <p>
                    <a href="https://hub.docker.com/_/redis/">Redis</a> image named <code>redis</code>.
                </p>
                <p>
                    This redis container is available at <code>redis.application.docker</code> through
                <pre>- DOMAIN_NAME=redis.${BASEHOST:-application.docker}</pre>
                </p>
                <p>
                    Connection settings:<br>
                <pre>host: redis</pre>
                </p>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="techHeading4">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#techs" href="#tech4"
                   aria-expanded="true" aria-controls="tech4">
                    mysql
                </a>
                <span class="pull-right">
                <span class="label label-success">latest</span>
                </span>
            </h4>
        </div>
        <div id="tech4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="techHeading4">
            <div class="panel-body">
                <p>
                    <a href="https://hub.docker.com/_/mysql/">Mysql</a> image named <code>mysql</code>.
                </p>
                <p>
                    The mysql root password is provided through the environment variable in the <code>.env</code> file
                    through:
                <pre>- MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD:-toor}</pre>
                </p>
                <p>
                    This mysql container is available at <code>mysql.application.docker</code> through
                <pre>- DOMAIN_NAME=mysql.${BASEHOST:-application.docker}</pre>
                </p>
                <p>You should first create a new database through the <code>create_db</code> helper command (see below).
                    <br>
                    Connection settings:
                <pre>
host: mysql
port: 3306
user: root
password: toor  (unless changed in .env file)</pre>
                </p>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="techHeading5">
            <h5 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#techs" href="#tech5"
                   aria-expanded="true" aria-controls="tech5">
                    mailcatcher
                </a>
                <span class="pull-right">
                <span class="label label-success">latest</span>
                </span>
            </h5>
        </div>
        <div id="tech5" class="panel-collapse collapse" role="tabpanel" aria-labelledby="techHeading5">
            <div class="panel-body">
                <p>
                    <a href="https://hub.docker.com/r/schickling/mailcatcher/">Mailcatcher</a> container named <code>mailcatcher</code>.
                </p>
                <p>
                    This mailcatcher container is available at <code>mailcatcher.application.docker:1080</code> through
                <pre>- DOMAIN_NAME=mailcatcher.${BASEHOST:-application.docker}</pre>
                </p>
                <p>
                    SMTP settings for your application are:<br>
                <pre>
host: mailcatcher
port: 1025</pre>
                </p>
            </div>
        </div>
    </div>
</div>

<h3>Available helper commands</h3>
<p>Click on one of the commands for more info and an example.</p>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingOne">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"
                   aria-expanded="true" aria-controls="collapseOne">
                    run
                </a>
            </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
                Run docker-compose for the current project, setting the project name to the BASEHOST variable from the
                .env file
                <br><br>
                <pre>$ run up</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading10">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse10"
                   aria-expanded="false" aria-controls="collapse10">
                    php
                </a>
            </h4>
        </div>
        <div id="collapse10" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading10">
            <div class="panel-body">
                <p>Execute the <a href="http://php.net/">php</a> command inside the running php container, or inside a
                    php-symfony container if none is running.</p>
                <p>
                    The working directory will be the current directory you are executing this command from.
                </p>
                eg.
                <pre>$ php -v</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingTwo">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"
                   aria-expanded="false" aria-controls="collapseTwo">
                    composer
                </a>
            </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
            <div class="panel-body">
                <p>Run the <a href="https://getcomposer.org/">composer</a> command inside the php docker container.
                    The working directory will be the current directory you are executing this command from.
                </p>
                <p>
                    Your $HOME/.ssh and $HOME/.composer folders wil be mounted inside this container to enable you to
                    make use of your ssh keys and composer cache.
                </p>

                eg.
                <pre>$ composer require package_name</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingThree">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree"
                   aria-expanded="false" aria-controls="collapseThree">
                    create_db
                </a>
            </h4>
        </div>
        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
            <div class="panel-body">
                <p>Create a new database inside the running mysql container with the given name (eg. 'symfony') and
                    'DEFAULT CHARSET utf8'.
                </p>

                eg.
                <pre>$ create_db symfony</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading4">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse4"
                   aria-expanded="false" aria-controls="collapse4">
                    mysql
                </a>
            </h4>
        </div>
        <div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading4">
            <div class="panel-body">
                <p>Execute a mysql command inside the running mysql container as the root user.</p>

                eg.
                <pre>$ mysql "SELECT * FROM table_name;"</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading5">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse5"
                   aria-expanded="false" aria-controls="collapse5">
                    mysqldump
                </a>
            </h4>
        </div>
        <div id="collapse5" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading5">
            <div class="panel-body">
                <p>Execute the mysqldump command inside the running mysql container as the root user.</p>

                eg.
                <pre>$ mysqldump db_name > export_file_name.sql</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading6">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse6"
                   aria-expanded="false" aria-controls="collapse6">
                    mysqlimport
                </a>
            </h4>
        </div>
        <div id="collapse6" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading6">
            <div class="panel-body">
                <p>Import a given mysql file into a given database, inside the running mysql container as the root
                    user.</p>

                eg.
                <pre>$ mysqlimport db_name import_file_name.sql</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading7">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse7"
                   aria-expanded="false" aria-controls="collapse7">
                    node
                </a>
            </h4>
        </div>
        <div id="collapse7" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading7">
            <div class="panel-body">
                <p>Execute the <a href="https://nodejs.org">nodejs</a> command inside a <a
                        href="https://github.com/dockerwest/nodejs">nodejs container</a>.
                    The working directory will be the current directory you are executing this command from.</p>

                eg.
                <pre>$ node js_file.js</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading8">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse8"
                   aria-expanded="false" aria-controls="collapse8">
                    npm
                </a>
            </h4>
        </div>
        <div id="collapse8" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading8">
            <div class="panel-body">
                <p>Execute the <a href="https://www.npmjs.com/">npm</a> command inside a <a
                        href="https://github.com/dockerwest/nodejs">nodejs container</a>.</p>
                <p>
                    The working directory will be the current directory you are executing this command from.
                    Your $HOME/.ssh and $HOME/.npm folders wil be mounted inside this container to enable you to make
                    use of your ssh keys and npm cache.</p>

                eg.
                <pre>$ npm install package_name</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading9">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse9"
                   aria-expanded="false" aria-controls="collapse9">
                    yarn
                </a>
            </h4>
        </div>
        <div id="collapse9" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading9">
            <div class="panel-body">
                <p>Execute the <a href="https://yarnpkg.com">yarn</a> command inside a <a
                        href="https://github.com/dockerwest/nodejs">nodejs container</a>.
                </p>
                <p>
                    The working directory will be the current directory you are executing this command from.
                    Your $HOME/.ssh and $HOME/.npm folders wil be mounted inside this container to enable you to make
                    use of
                    your ssh keys and npm cache.</p>

                eg.
                <pre>$ yarn add package_name</pre>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading11">
            <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse11"
                   aria-expanded="false" aria-controls="collapse11">
                    redis-cli
                </a>
            </h4>
        </div>
        <div id="collapse11" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading11">
            <div class="panel-body">
                <p>Execute the <a href="https://redis.io/topics/rediscli">redis-cli</a> command in the running redis
                    container.</p>

                eg.
                <pre>$ redis-cli flushall</pre>

            </div>
        </div>
    </div>
</div>                </div>
        </div>
        <footer class="container">
            &copy; 2018 DockerWest &ndash; <a href="/about">About us</a>
            &ndash; <a href="https://hub.docker.com/u/dockerwest/" target="_blank">DockerWest on Docker Hub</a>
            &ndash; <a href="https://github.com/dockerwest" target="_blank">DockerWest on Github</a>
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
        
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-100428460-1', 'auto');
            ga('send', 'pageview');
        </script>
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

                        <script>
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            })
        </script>
    </body>
</html>
